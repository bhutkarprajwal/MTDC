<div class="profile-container">
  <div class="profile-card" *ngIf="user; else noProfile">

    <!-- Back Button -->
    <button class="back-button" (click)="goBack()">‚Üê Back</button>

    <h2>User Profile</h2>

    <form *ngIf="editMode; else viewMode" (ngSubmit)="saveProfile()">
      <input type="text" [(ngModel)]="user.username" name="username" placeholder="Username" required />
      <input type="email" [(ngModel)]="user.email" name="email" placeholder="Email" required />
      <input type="text" [(ngModel)]="user.first_name" name="first_name" placeholder="First Name" />
      <input type="text" [(ngModel)]="user.last_name" name="last_name" placeholder="Last Name" />
      <input type="text" [(ngModel)]="user.mobile_number" name="mobile_number" placeholder="Mobile Number" />
      <button type="submit">Save</button>
      <button type="button" (click)="toggleEdit()">Cancel</button>
    </form>

    <ng-template #viewMode>
      <p><strong>Username:</strong> {{ user.username }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <p><strong>First Name:</strong> {{ user.first_name }}</p>
      <p><strong>Last Name:</strong> {{ user.last_name }}</p>
      <p><strong>Mobile:</strong> {{ user.mobile_number }}</p>

      <button (click)="toggleEdit()">Edit Profile</button>
      <button (click)="logout()">Logout</button>
    </ng-template>
  </div>

  <ng-template #noProfile>
    <p>No profile available. Please log in.</p>
  </ng-template>
</div>
